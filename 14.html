<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document 14</title>
  <style>
    p {
      color: blueviolet;
    }
  </style>
</head>
<body>
  <button onclick=printDoc()>printDoc</button>
  <!-- <button onclick=myF(document)>nodeType</button> -->
  <br><br><br>
  <p style="color: cyan;">One</p>
  <p>Two</p>
  <p>Three</p>
  <button id="tf" onclick="threeFirst()" style="display: block">Three First</button>
  <button onclick="create1Node()">Create Node</button>
  <button data-x="x" onclick=removeButton(this)>Remove 'CreateNode' Button</button>

  <div style="height: 500px;">
    <h1>any content here</h1>
  </div>
</body>

<script>
  //one way to add an event listener to window element is by
  // window.addEventListener("scroll", () => alert("scrolling page"));

  //event listener to get a click in any part of the page
  // window.onclick = () => {
  //   alert("clicked\n window.pageYOffset: " + window.pageYOffset);
  // }

  //window event listener to check hwne the user scrolls the page's bottom
  window.onscroll = function() {
    if (window.innerHeight + window.pageYOffset >= document.body.offsetHeight) {
      alert(`At the bottom!\n innerHeight: ${window.innerHeight}\npageYOffset: ${window.pageYOffset}\n body.offsetHeight: ${document.body.offsetHeight}\n ${document.body.getBoundingClientRect()}`);
    }
  }

  console.log("14");
  const tempVar = document.getElementById("tf");
  console.log("tF button parentNode:");
  // console.log(tempVar.offsetHeight);
  // console.log(tempVar.clientHeight);
  console.log(tempVar.getBoundingClientRect());
  console.log(pageXOffset, pageYOffset)

  // console.log(tempVar.parentNode);
  // console.log(document)
  // console.log(document.childNodes)
  // console.log(typeof document.documentElement)

  // 3 ways to remove an html - 2 remove the element and 1 is not show it (actually, it doesnt remove)
  removeButton = e => {
    console.log("element:", e.dataset.x);
    // e.parentNode.removeChild(e);
    // e.remove();
    e.style.display = "none";
    // this last way is able to apply any style for an element
    document.getElementsByTagName("p")[0].style.border = "solid 1px red";
    document.getElementsByTagName("p")[0].style.fontFamily = "arial";
    document.getElementsByTagName("p")[0].style.color = "red";
  }
  
  create1Node = () => {
    // const firstButton = document.getElementsByTagName("button")[1];
    const firstButton = document.getElementById("tf");
    console.log("firstButton", firstButton.nodeName);

    const newP = document.createElement("p");
    const textBeforeButton = document.createTextNode("text before button");
    newP.appendChild(textBeforeButton);
    document.body.insertBefore(newP, firstButton);

    // it creates a new line and appends it to the end of the document
    // const nl = document.createElement("br");
    // it is huts a way to do it, maybe would be better to insert the text below within this p element
    const nl = document.createElement("p");
    nl.setAttribute("myAttr", "testAttr");
    console.log(nl.getAttribute("myAttr"));
    console.log(nl.attributes);
    document.body.appendChild(nl);

    //this line adds a new text element and append it to the end of the document
    const textEnd = document.createTextNode("text at the document's end");
    console.log(textEnd);
    // document.body.appendChild(textEnd);
    const temp = document.createElement("div");
    temp.appendChild(textEnd);
    document.body.appendChild(temp);
  }

  threeFirst = () => {
    // const ps = document.getElementsByTagName("p");
    const ps = Array.from(document.getElementsByTagName("p"));
    // console.log("ps = " + JSON.stringify(ps));
    // console.log("ps = " + ps.toString());
    console.log(ps);
    // ps.forEach(console.log);
    // ps.forEach(e => console.log(e));
    document.body.insertBefore(ps[2], ps[0]);
  }

  printDoc = () => {
    // console.log(typeof document);
    const e = document;
    console.log(e);
    myF(e);
  }

  myF = e => {
    // console.log("node type " + e.nodeType);
    // console.log("child " + e.childNodes.length);
    console.log("child " + e.childNodes.toString());
    console.log("child " + JSON.stringify(e.childNodes));
    // console.log(Node.TEXT_NODE);
  }

</script>
</html>